<app-navbar (ChatData)="receiverChatData($event)" (globalPaquetes)="ProcessTime($event)"></app-navbar>

<div class="contentLobby">
    <div class="chatSection" ngx-auto-scroll lock-y-offset="10" observe-attributes>
        <div *ngFor="let chat of chatContent">
            <div id="cliente-content-message" *ngIf="chat.emisor === 'c'">
                <div id="cliente-message">{{chat.mensaje}}</div>
            </div>
            <div id="psiquica-content-message" *ngIf="chat.emisor === 'p'">
                <img src="http://placehold.it/50x50">
                <div id="psiquica-message">{{chat.mensaje}}</div>
            </div>
        </div>
    </div>
    <div class="textSection">
        <div class="row">
            <form class="col s12" [formGroup]="chatClienteForm" novalidate (ngSubmit)="sendMessage()">
                <div class="row">
                    <div class="input-field col s12 sendMsg">
                        <textarea (keyup)="enterMessage($event)" id="textArea" class="textBody validate" placeholder="Ingrese aquí su mensaje..." formControlName="message" autocomplete="off"></textarea>
                        <button class="btnSendMsg btnJosie" [disabled]="!chatClienteForm.valid">Enviar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- MODAL TERMINAR CHAT-->
<div class="closeChatContainer">
    <div class="row">
        <div class="col starsContainer">
            <span class="closeStarsContainer" (click)="hideContainer()"> X </span>
            <h5 class="calificaTitle">Califica la atención de tu psíquica:</h5>
            <span class="rating">
                <input type="radio" class="rating-input" id="rating-input-1-1" value="5" [(ngModel)]="star" name="star">
                <label for="rating-input-1-1" class="rating-star"></label>
                <input type="radio" class="rating-input" id="rating-input-1-2" value="4" [(ngModel)]="star" name="star">
                <label for="rating-input-1-2" class="rating-star"></label>
                <input type="radio" class="rating-input" id="rating-input-1-3" value="3" [(ngModel)]="star" name="star">
                <label for="rating-input-1-3" class="rating-star"></label>
                <input type="radio" class="rating-input" id="rating-input-1-4" value="2" [(ngModel)]="star" name="star">
                <label for="rating-input-1-4" class="rating-star"></label>
                <input type="radio" class="rating-input" id="rating-input-1-5" value="1" [(ngModel)]="star" name="star">
                <label for="rating-input-1-5" class="rating-star"></label>
            </span>
            <div class="container">
                <textarea placeholder="Comentanos tu experiencia con la psiquica." name="comentario" class="comentarioInput" cols="2" rows="2" [(ngModel)]="comentario"></textarea>
                <button (click)="TerminarChat()" class="btn btnComentar btnJosie">Enviar</button>
                <p class="advise">Es importante que des click en <b>"Enviar"</b> para finalizar el chat. </p>
            </div>
        </div>
    </div>
</div>